<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE flow PUBLIC  "liteflow" "liteflow.dtd">
<flow>
    <nodes>
        <node id="scriptStep1" name="script step 1" type="script" language="js">
            <![CDATA[
                let a=1;
                let b=2;
                defaultContext.setData("result",a*b);
            ]]>
        </node>
        <node id="scriptStep2" name="script step 2" type="script" language="js">
            <![CDATA[
                let c=1;
                let d=2;
                let prevStepResult=defaultContext.getData("result");
                console.log("scriptStep1 result="+prevStepResult);
                let result=prevStepResult+c+d;
                console.log("scriptStep2 result="+result);
                defaultContext.setData("result",prevStepResult+c+d);
            ]]>
        </node>
        <node id="scriptStep3" name="script step 3" type="script" language="groovy">
            <![CDATA[
                def num1 = new BigDecimal("123.456")
                def num2 = new BigDecimal("789.012")
                def result = num1 + num2
                println num1 + "+" + num2 + "=" + result
                defaultContext.setData("result",result);
            ]]>
        </node>
    </nodes>
    <chain name="chain-script">
        THEN(scriptStep1,scriptStep2,scriptStep3);
    </chain>
</flow>
